-if @search.respond_to?(:any?) ? @search.any? : (@search.hits.count > 0)
  = render partial: 'items/pagination', locals: {results: @search}

%table.table
  %tr
    = sortable :identifier, 'ID'
    = sortable :title
    = sortable :collector_sortname, 'Collector'
    = sortable :language, 'Language as given'
    %th Countries
    = sortable :updated_at, 'Modification Date'
    %th Actions

    - res = @search.respond_to?(:results) ? @search.results : @search
    - res.each do |item|
      %tr
        %td= item.full_identifier
        %td= item.title
        %td= item.collector.name
        %td= item.language
        %td
          - item.countries.each do |country|
            = country.name
        %td= item.updated_at.to_date
        %td
          = link_to 'View', [item.collection, item]
          = link_to 'Edit', edit_collection_item_path(item.collection, item) if can? :update, item

-if @search.respond_to?(:any?) ? @search.any? : (@search.hits.count > 0)
  = render partial: 'items/pagination', locals: {results: @search}
-else
  %p.bold There were NO results for your search.

%p
  -['10','50','100',"all #{@search.respond_to?(:total) ? @search.total : @search.total_count}"].each do |n|
    = link_to "Show #{n}", params.merge(per_page: n.sub('all ', ''), page: n.start_with?('all') ? 1 : params[:page]), class: 'button'
